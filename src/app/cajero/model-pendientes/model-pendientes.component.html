<h3 mat-dialog-title>Productos</h3>
<div mat-dialog-content>
    <div *ngIf="data.tipo == 'Pedido'">
        <h4>Selecci√≥nar los productos con exitencias erroneas</h4>
        <div *ngIf="data.band[0]">
            <p>Medicamento</p>
            <table mat-table [dataSource]="dataSourceMedicamento" class="mat-elevation-z8">
                <ng-container matColumnDef="codigo">
                    <th mat-header-cell *matHeaderCellDef>Codigo</th>
                    <td mat-cell *matCellDef="let element">
                        {{ element.codigo }}
                    </td>
                </ng-container>
                <ng-container matColumnDef="marcaComercial">
                    <th mat-header-cell *matHeaderCellDef>Nombre</th>
                    <td mat-cell *matCellDef="let element">
                        {{ element.marcaComercial }}
                    </td>
                </ng-container>
                <ng-container matColumnDef="descripcion">
                    <th mat-header-cell *matHeaderCellDef>Descripcion</th>
                    <td mat-cell *matCellDef="let element">
                        {{ element.descripcion }}
                    </td>
                </ng-container>
                <ng-container matColumnDef="sustancia">
                    <th mat-header-cell *matHeaderCellDef>sustancia</th>
                    <td mat-cell *matCellDef="let element">
                        {{ element.sustancia }}
                    </td>
                </ng-container>
                <ng-container matColumnDef="cantidad">
                    <th mat-header-cell *matHeaderCellDef>cantidad</th>
                    <td mat-cell *matCellDef="let element">
                        {{ element.cantidad }}
                    </td>
                </ng-container>

                <ng-container matColumnDef="opciones">
                    <th mat-header-cell *matHeaderCellDef>Opciones</th>
                    <td mat-cell *matCellDef="let element; let i = index">
                        <mat-checkbox
                            class="example-margin"
                            (change)="onChange($event)"
                            [value]="element.codigo"
                        ></mat-checkbox>
                    </td>
                </ng-container>

                <tr mat-header-row *matHeaderRowDef="productosMedicamento"></tr>
                <tr mat-row *matRowDef="let row; columns: productosMedicamento"></tr>
            </table>
            <mat-paginator
                #matPaginatorMedicamento
                [pageSizeOptions]="[5, 10, 20]"
                showFirstLastButtons
            ></mat-paginator>
        </div>
        <div *ngIf="data.band[1]">
            <p>Abarrotes</p>
            <table mat-table [dataSource]="dataSourceAbarrotes" class="mat-elevation-z8">
                <ng-container matColumnDef="codigo">
                    <th mat-header-cell *matHeaderCellDef>Codigo</th>
                    <td mat-cell *matCellDef="let element">
                        {{ element.codigo }}
                    </td>
                </ng-container>

                <ng-container matColumnDef="nombre">
                    <th mat-header-cell *matHeaderCellDef>Nombre</th>
                    <td mat-cell *matCellDef="let element">
                        {{ element.marcaComercial }}
                    </td>
                </ng-container>
                <ng-container matColumnDef="descripcion">
                    <th mat-header-cell *matHeaderCellDef>Descripcion</th>
                    <td mat-cell *matCellDef="let element">
                        {{ element.descripcion }}
                    </td>
                </ng-container>
                <ng-container matColumnDef="marca">
                    <th mat-header-cell *matHeaderCellDef>Marca</th>
                    <td mat-cell *matCellDef="let element">
                        {{ element.marca }}
                    </td>
                </ng-container>

                <ng-container matColumnDef="cantidad">
                    <th mat-header-cell *matHeaderCellDef>Cantidad</th>
                    <td mat-cell *matCellDef="let element">
                        {{ element.cantidad }}
                    </td>
                </ng-container>

                <ng-container matColumnDef="opciones">
                    <th mat-header-cell *matHeaderCellDef>Opciones</th>
                    <td mat-cell *matCellDef="let element; let i = index">
                        <mat-checkbox
                            class="example-margin"
                            (change)="onChange($event)"
                            [value]="element.codigo"
                        ></mat-checkbox>
                    </td>
                </ng-container>

                <tr mat-header-row *matHeaderRowDef="productosAbarrote"></tr>
                <tr mat-row *matRowDef="let row; columns: productosAbarrote"></tr>
            </table>
            <mat-paginator
                #matPaginatorAbarrotes
                [pageSizeOptions]="[5, 10, 20]"
                showFirstLastButtons
            ></mat-paginator>
        </div>
        <div *ngIf="data.band[2]">
            <p>Cosmeticos</p>
            <table mat-table [dataSource]="dataSourceCosmeticos" class="mat-elevation-z8">
                <ng-container matColumnDef="codigo">
                    <th mat-header-cell *matHeaderCellDef>Codigo</th>
                    <td mat-cell *matCellDef="let element">
                        {{ element.codigo }}
                    </td>
                </ng-container>

                <ng-container matColumnDef="nombre">
                    <th mat-header-cell *matHeaderCellDef>Nombre</th>
                    <td mat-cell *matCellDef="let element">
                        {{ element.marcaComercial }}
                    </td>
                </ng-container>
                <ng-container matColumnDef="descripcion">
                    <th mat-header-cell *matHeaderCellDef>Descripcion</th>
                    <td mat-cell *matCellDef="let element">
                        {{ element.descripcion }}
                    </td>
                </ng-container>
                <ng-container matColumnDef="marca">
                    <th mat-header-cell *matHeaderCellDef>Marca</th>
                    <td mat-cell *matCellDef="let element">
                        {{ element.marca }}
                    </td>
                </ng-container>

                <ng-container matColumnDef="cantidad">
                    <th mat-header-cell *matHeaderCellDef>Cantidad</th>
                    <td mat-cell *matCellDef="let element">
                        {{ element.cantidad }}
                    </td>
                </ng-container>

                <ng-container matColumnDef="opciones">
                    <th mat-header-cell *matHeaderCellDef>Opciones</th>
                    <td mat-cell *matCellDef="let element; let i = index">
                        <mat-checkbox
                            class="example-margin"
                            (change)="onChange($event)"
                            [value]="element.codigo"
                        ></mat-checkbox>
                    </td>
                </ng-container>

                <tr mat-header-row *matHeaderRowDef="productosCosmetico"></tr>
                <tr mat-row *matRowDef="let row; columns: productosCosmetico"></tr>
            </table>
            <mat-paginator
                #matPaginatorCosmeticos
                [pageSizeOptions]="[5, 10, 20]"
                showFirstLastButtons
            ></mat-paginator>
        </div>
    </div>
    <div *ngIf="data.tipo == 'Solicitud'">
        <p>Modificar la cantidad que sera aceptada en la solicitud</p>
        <div *ngIf="data.band[0]">
            <p>Medicamento</p>
            <table mat-table [dataSource]="data.productosMedicamento" class="mat-elevation-z8">
                <ng-container matColumnDef="codigo">
                    <th mat-header-cell *matHeaderCellDef>Codigo</th>
                    <td mat-cell *matCellDef="let element">
                        {{ element.codigo }}
                    </td>
                </ng-container>

                <ng-container matColumnDef="marcaComercial">
                    <th mat-header-cell *matHeaderCellDef>Nombre</th>
                    <td mat-cell *matCellDef="let element">
                        {{ element.marcaComercial }}
                    </td>
                </ng-container>
                <ng-container matColumnDef="descripcion">
                    <th mat-header-cell *matHeaderCellDef>Descripcion</th>
                    <td mat-cell *matCellDef="let element">
                        {{ element.descripcion }}
                    </td>
                </ng-container>
                <ng-container matColumnDef="sustancia">
                    <th mat-header-cell *matHeaderCellDef>sustancia</th>
                    <td mat-cell *matCellDef="let element">
                        {{ element.sustancia }}
                    </td>
                </ng-container>

                <ng-container matColumnDef="cantidad">
                    <th mat-header-cell *matHeaderCellDef>Cantidad</th>
                    <td mat-cell *matCellDef="let element; let i = index">
                        <input
                            matInput
                            [(ngModel)]="data.seleccionadosMedicamnetos[i]"
                            type="number"
                            min="0"
                            [max]="element.cantidad"
                        />
                    </td>
                </ng-container>
                <tr mat-header-row *matHeaderRowDef="productosMedicamentoSolicitud"></tr>
                <tr mat-row *matRowDef="let row; columns: productosMedicamentoSolicitud"></tr>
            </table>
        </div>
        <div *ngIf="data.band[1]">
            <p>Abarrotes</p>
            <table mat-table [dataSource]="data.productosAbarrote" class="mat-elevation-z8">
                <ng-container matColumnDef="codigo">
                    <th mat-header-cell *matHeaderCellDef>Codigo</th>
                    <td mat-cell *matCellDef="let element">
                        {{ element.codigo }}
                    </td>
                </ng-container>

                <ng-container matColumnDef="nombre">
                    <th mat-header-cell *matHeaderCellDef>Nombre</th>
                    <td mat-cell *matCellDef="let element">
                        {{ element.marcaComercial }}
                    </td>
                </ng-container>
                <ng-container matColumnDef="descripcion">
                    <th mat-header-cell *matHeaderCellDef>Descripcion</th>
                    <td mat-cell *matCellDef="let element">
                        {{ element.descripcion }}
                    </td>
                </ng-container>
                <ng-container matColumnDef="marca">
                    <th mat-header-cell *matHeaderCellDef>Marca</th>
                    <td mat-cell *matCellDef="let element">
                        {{ element.marca }}
                    </td>
                </ng-container>

                <ng-container matColumnDef="cantidad">
                    <th mat-header-cell *matHeaderCellDef>Cantidad</th>
                    <td mat-cell *matCellDef="let element; let i = index">
                        <input
                            matInput
                            [(ngModel)]="data.seleccionadosAbarrotes[i]"
                            type="number"
                            min="0"
                            [max]="element.cantidad"
                        />
                    </td>
                </ng-container>

                <tr mat-header-row *matHeaderRowDef="productosAbarroteSolicitud"></tr>
                <tr mat-row *matRowDef="let row; columns: productosAbarroteSolicitud"></tr>
            </table>
        </div>
        <div *ngIf="data.band[2]">
            <p>Cosmeticos</p>
            <table mat-table [dataSource]="data.productosCosmetico" class="mat-elevation-z8">
                <ng-container matColumnDef="codigo">
                    <th mat-header-cell *matHeaderCellDef>Codigo</th>
                    <td mat-cell *matCellDef="let element">
                        {{ element.codigo }}
                    </td>
                </ng-container>

                <ng-container matColumnDef="nombre">
                    <th mat-header-cell *matHeaderCellDef>Nombre</th>
                    <td mat-cell *matCellDef="let element">
                        {{ element.marcaComercial }}
                    </td>
                </ng-container>
                <ng-container matColumnDef="descripcion">
                    <th mat-header-cell *matHeaderCellDef>Descripcion</th>
                    <td mat-cell *matCellDef="let element">
                        {{ element.descripcion }}
                    </td>
                </ng-container>
                <ng-container matColumnDef="marca">
                    <th mat-header-cell *matHeaderCellDef>Marca</th>
                    <td mat-cell *matCellDef="let element">
                        {{ element.marca }}
                    </td>
                </ng-container>

                <ng-container matColumnDef="cantidad">
                    <th mat-header-cell *matHeaderCellDef>Cantidad</th>
                    <td mat-cell *matCellDef="let element; let i = index">
                        <input
                            matInput
                            [(ngModel)]="data.seleccionadosCosmeticos[i]"
                            type="number"
                            min="0"
                            [max]="element.cantidad"
                        />
                    </td>
                </ng-container>

                <tr mat-header-row *matHeaderRowDef="productosCosmeticoSolitud"></tr>
                <tr mat-row *matRowDef="let row; columns: productosCosmeticoSolitud"></tr>
            </table>
        </div>
    </div>
    <div *ngIf="data.tipo == 'Solicitud Hecha'">
        <p>Modificar la cantidad que sera aceptada en la solicitud</p>
        <div *ngIf="data.band[0]">
            <p>Medicamento</p>
            <table mat-table [dataSource]="data.productosMedicamento" class="mat-elevation-z8">
                <ng-container matColumnDef="codigo">
                    <th mat-header-cell *matHeaderCellDef>Codigo</th>
                    <td mat-cell *matCellDef="let element">
                        {{ element.codigo }}
                    </td>
                </ng-container>

                <ng-container matColumnDef="marcaComercial">
                    <th mat-header-cell *matHeaderCellDef>Nombre</th>
                    <td mat-cell *matCellDef="let element">
                        {{ element.marcaComercial }}
                    </td>
                </ng-container>
                <ng-container matColumnDef="descripcion">
                    <th mat-header-cell *matHeaderCellDef>Descripcion</th>
                    <td mat-cell *matCellDef="let element">
                        {{ element.descripcion }}
                    </td>
                </ng-container>
                <ng-container matColumnDef="sustancia">
                    <th mat-header-cell *matHeaderCellDef>sustancia</th>
                    <td mat-cell *matCellDef="let element">
                        {{ element.sustancia }}
                    </td>
                </ng-container>

                <ng-container matColumnDef="cantidad">
                    <th mat-header-cell *matHeaderCellDef>Cantidad</th>
                    <td mat-cell *matCellDef="let element; let i = index">
                        <input
                            matInput
                            disabled="true"
                            [(ngModel)]="data.seleccionadosMedicamnetos[i]"
                            type="number"
                            min="0"
                            [max]="element.cantidad"
                        />
                    </td>
                </ng-container>
                <tr mat-header-row *matHeaderRowDef="productosMedicamentoSolicitud"></tr>
                <tr mat-row *matRowDef="let row; columns: productosMedicamentoSolicitud"></tr>
            </table>
        </div>
        <div *ngIf="data.band[1]">
            <p>Abarrotes</p>
            <table mat-table [dataSource]="data.productosAbarrote" class="mat-elevation-z8">
                <ng-container matColumnDef="codigo">
                    <th mat-header-cell *matHeaderCellDef>Codigo</th>
                    <td mat-cell *matCellDef="let element">
                        {{ element.codigo }}
                    </td>
                </ng-container>

                <ng-container matColumnDef="nombre">
                    <th mat-header-cell *matHeaderCellDef>Nombre</th>
                    <td mat-cell *matCellDef="let element">
                        {{ element.marcaComercial }}
                    </td>
                </ng-container>
                <ng-container matColumnDef="descripcion">
                    <th mat-header-cell *matHeaderCellDef>Descripcion</th>
                    <td mat-cell *matCellDef="let element">
                        {{ element.descripcion }}
                    </td>
                </ng-container>
                <ng-container matColumnDef="marca">
                    <th mat-header-cell *matHeaderCellDef>Marca</th>
                    <td mat-cell *matCellDef="let element">
                        {{ element.marca }}
                    </td>
                </ng-container>

                <ng-container matColumnDef="cantidad">
                    <th mat-header-cell *matHeaderCellDef>Cantidad</th>
                    <td mat-cell *matCellDef="let element; let i = index">
                        <input
                            matInput
                            disabled="true"
                            [(ngModel)]="data.seleccionadosAbarrotes[i]"
                            type="number"
                            min="0"
                            [max]="element.cantidad"
                        />
                    </td>
                </ng-container>

                <tr mat-header-row *matHeaderRowDef="productosAbarroteSolicitud"></tr>
                <tr mat-row *matRowDef="let row; columns: productosAbarroteSolicitud"></tr>
            </table>
        </div>
        <div *ngIf="data.band[2]">
            <p>Cosmeticos</p>
            <table mat-table [dataSource]="data.productosCosmetico" class="mat-elevation-z8">
                <ng-container matColumnDef="codigo">
                    <th mat-header-cell *matHeaderCellDef>Codigo</th>
                    <td mat-cell *matCellDef="let element">
                        {{ element.codigo }}
                    </td>
                </ng-container>

                <ng-container matColumnDef="nombre">
                    <th mat-header-cell *matHeaderCellDef>Nombre</th>
                    <td mat-cell *matCellDef="let element">
                        {{ element.marcaComercial }}
                    </td>
                </ng-container>
                <ng-container matColumnDef="descripcion">
                    <th mat-header-cell *matHeaderCellDef>Descripcion</th>
                    <td mat-cell *matCellDef="let element">
                        {{ element.descripcion }}
                    </td>
                </ng-container>
                <ng-container matColumnDef="marca">
                    <th mat-header-cell *matHeaderCellDef>Marca</th>
                    <td mat-cell *matCellDef="let element">
                        {{ element.marca }}
                    </td>
                </ng-container>

                <ng-container matColumnDef="cantidad">
                    <th mat-header-cell *matHeaderCellDef>Cantidad</th>
                    <td mat-cell *matCellDef="let element; let i = index">
                        <input
                            matInput
                            disabled="true"
                            [(ngModel)]="data.seleccionadosCosmeticos[i]"
                            type="number"
                            min="0"
                            [max]="element.cantidad"
                        />
                    </td>
                </ng-container>

                <tr mat-header-row *matHeaderRowDef="productosCosmeticoSolitud"></tr>
                <tr mat-row *matRowDef="let row; columns: productosCosmeticoSolitud"></tr>
            </table>
        </div>
    </div>
</div>
<div mat-dialog-actions>
    <button mat-button [mat-dialog-close]="data">Cancelar</button>
    <button
        *ngIf="data.tipo == 'Pedido'"
        mat-button
        (click)="onClick(data)"
        cdkFocusInitial
        class="btn btn-success"
    >
        Continuar
    </button>
    <button
        *ngIf="data.tipo == 'Solicitud'"
        mat-button
        (click)="openValidarClave(data)"
        cdkFocusInitial
        class="btn btn-success"
    >
        Aceptar
    </button>
    <button
        *ngIf="data.tipo == 'Solicitud Hecha'"
        mat-button
        (click)="verificarSolicitud(data)"
        cdkFocusInitial
        class="btn btn-success"
    >
        Verificar
    </button>
</div>

<app-spinner></app-spinner>
